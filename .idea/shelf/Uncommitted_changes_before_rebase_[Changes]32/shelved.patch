Index: Frontend/src/pages/MainPage/index.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// MainPage.jsx (수정된 버전)\nimport { useState, useEffect } from \"react\";\nimport HeaderContainer from \"../../components/HeaderContainer/HeaderContainer\";\nimport SearchBar from \"../../components/SearchBar\";\nimport DraggableBottomSheet from \"../../components/DraggableBottomSheet/DraggableBottomSheet\";\nimport KakaoMapContainer from \"../../components/KakaoMapContainer\";\nimport KakaoMapMarkers from \"../../components/KakaoMapMarkers\";\nimport useGeolocation from \"../../hooks/UseGeolocation\";\nimport useReverseGeocoding from \"../../hooks/useReverseGeocoding\";\nimport useGeocoding from \"../../hooks/useGeocoding\";\nimport { useBaseMap } from \"../../contexts/KakaoMapContext\";\nimport \"./style.css\";\n\nconst MainPage = () => {\n    const { isSDKLoaded } = useBaseMap();\n    const { coordToAddress } = useReverseGeocoding();\n    const { addressToCoord } = useGeocoding();\n    const { geoCoords, error } = useGeolocation();\n\n    const [coords, setCoords] = useState({ lat: 37.5015376, lng: 127.0397208 });\n    const [address, setAddress] = useState(\"인재의 산실 멀티캠퍼스\");\n    const [isManualAddress, setIsManualAddress] = useState(false);\n    const [storelist, setStorelist] = useState([]);\n\n    // 자동 위치 추적 효과\n    useEffect(() => {\n        if (isSDKLoaded && !isManualAddress && geoCoords) {\n            (async () => {\n                try {\n                    const newAddress = await coordToAddress(geoCoords);\n                    setCoords(geoCoords);\n                    setAddress(newAddress);\n                } catch (err) {\n                    console.error(\"위치 업데이트 실패:\", err);\n                    setAddress(\"위치 정보 불러오기 실패\");\n                }\n            })();\n        }\n    }, [geoCoords, isSDKLoaded, isManualAddress, coordToAddress]);\n\n    // 주소 검색 핸들러\n    const handleAddressComplete = async (fullAddress) => {\n        try {\n            setAddress(fullAddress);\n            const newCoords = await addressToCoord(fullAddress);\n            if (newCoords) {\n                setCoords(prev => ({ ...prev, ...newCoords }));\n            }\n        } catch (err) {\n            console.error(\"주소 변환 오류:\", err);\n        }\n    };\n\n    return (\n        <div className=\"mainpagebackground\">\n            <div className=\"mainpagecontents\">\n                <div className=\"mainpageheader\">\n                    <HeaderContainer />\n                </div>\n\n                <div className=\"mainpagesearchbar\">\n                    <SearchBar\n                        coords={coords}\n                        address={address}\n                        error={error}\n                        onAddressComplete={handleAddressComplete}\n                        setIsManualAddress={setIsManualAddress}\n                    />\n                </div>\n\n                <div className=\"mainpagebottomsheet\">\n                    <DraggableBottomSheet\n                        coords={coords}\n                        setStorelist={setStorelist}\n                    />\n                </div>\n\n                {isSDKLoaded && (\n                    <>\n                        <KakaoMapContainer coords={coords} />\n                        <KakaoMapMarkers storelist={storelist} />\n                    </>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default MainPage;\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Frontend/src/pages/MainPage/index.js b/Frontend/src/pages/MainPage/index.js
--- a/Frontend/src/pages/MainPage/index.js	(revision 58738e8b103beb086d7d5e294ef89fa56b044638)
+++ b/Frontend/src/pages/MainPage/index.js	(date 1740029889911)
@@ -51,6 +51,8 @@
         }
     };
 
+    console.log(storelist);
+
     return (
         <div className="mainpagebackground">
             <div className="mainpagecontents">
Index: Frontend/src/components/KakaoMapMarkers/index.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import { useEffect } from 'react';\nimport { useBaseMap } from \"../../contexts/KakaoMapContext\";\nimport { useNavigate } from 'react-router-dom';\n\nconst KakaoMapMarkers = ({ storelist }) => {\n\n    const { baseMap, isSDKLoaded } = useBaseMap();\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        if (!baseMap || !storelist || !isSDKLoaded) return;\n\n        // storelist 기반으로 마커 생성\n        const markers = storelist.map((store) => {\n            const marker = new window.kakao.maps.Marker({\n                position: new window.kakao.maps.LatLng(store.locationX, store.locationY),\n                map: baseMap,\n                clickable: true,\n            });\n\n            const iwContent = `\n              <div style=\"\n                padding: 15px;\n                text-align: center;\n                color: #333;\n                position: relative;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                border-radius: 8px;  \n                white-space: normal;  /* 줄바꿈 허용 */\n                word-wrap: break-word;  /* 긴 단어도 줄 바꿈 */\n                cursor: pointer;\"\n              id=\"store-${store.storeNo}\">\n                ${store.storeName}\n                <div style=\"\n                  position: absolute;\n                  width: 0;\n                  height: 0;\n                \"></div>\n              </div>\n            `;\n\n            const infowindow = new window.kakao.maps.InfoWindow({\n                content: iwContent,\n                removable: true,\n            });\n\n            // 클릭 시 해당 마커 위치로 지도 중심 이동\n            window.kakao.maps.event.addListener(marker, 'click', () => {\n                baseMap.panTo(marker.getPosition());\n                infowindow.open(baseMap, marker);\n\n            // 정보창 클릭 시 상세 페이지 이동\n            setTimeout(() => {\n              const infoElement = document.getElementById(`store-${store.storeNo}`);\n              if (infoElement) {\n                  infoElement.addEventListener(\"click\", () => navigate(`/storedetail/${store.storeNo}`));\n              }\n          }, 100); // 정보창이 렌더링된 후 이벤트 추가\n            });\n\n            return marker;\n        });\n\n        // 컴포넌트 언마운트 시 생성한 마커 제거\n        return () => {\n            markers.forEach((marker) => marker.setMap(null));\n        };\n    }, [storelist, baseMap, isSDKLoaded, navigate]);\n\n    return null;\n};\n\nexport default KakaoMapMarkers;\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Frontend/src/components/KakaoMapMarkers/index.js b/Frontend/src/components/KakaoMapMarkers/index.js
--- a/Frontend/src/components/KakaoMapMarkers/index.js	(revision 58738e8b103beb086d7d5e294ef89fa56b044638)
+++ b/Frontend/src/components/KakaoMapMarkers/index.js	(date 1740028562265)
@@ -13,7 +13,7 @@
         // storelist 기반으로 마커 생성
         const markers = storelist.map((store) => {
             const marker = new window.kakao.maps.Marker({
-                position: new window.kakao.maps.LatLng(store.locationX, store.locationY),
+                position: new window.kakao.maps.LatLng(store.lat, store.lon),
                 map: baseMap,
                 clickable: true,
             });
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"AutoImportSettings\">\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\n  </component>\n  <component name=\"ChangeListManager\">\n    <list default=\"true\" id=\"f896b346-e63a-4955-9c5d-cb4b97fbcc7e\" name=\"Changes\" comment=\"[FE/FIX] 키오스크 css flex로 수정 (#135)\">\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/Frontend/src/components/KioskBarcodeScanner/index.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Frontend/src/components/KioskBarcodeScanner/index.js\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/Frontend/src/components/KioskCouponScanner/index.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Frontend/src/components/KioskCouponScanner/index.js\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/Frontend/src/components/KioskHeaderContainer/style.css\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Frontend/src/components/KioskHeaderContainer/style.css\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/Frontend/src/pages/KioskMain/index.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Frontend/src/pages/KioskMain/index.js\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/Frontend/src/pages/KioskMain/style.css\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Frontend/src/pages/KioskMain/style.css\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/Frontend/src/pages/StoredetailRequest/style.css\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Frontend/src/pages/StoredetailRequest/style.css\" afterDir=\"false\" />\n    </list>\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\n  </component>\n  <component name=\"FileTemplateManagerImpl\">\n    <option name=\"RECENT_TEMPLATES\">\n      <list>\n        <option value=\"JavaScript File\" />\n      </list>\n    </option>\n  </component>\n  <component name=\"Git.Rebase.Settings\">\n    <option name=\"NEW_BASE\" value=\"origin/Frontend\" />\n  </component>\n  <component name=\"Git.Settings\">\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\n    <option name=\"UPDATE_TYPE\" value=\"REBASE\" />\n  </component>\n  <component name=\"GitLabMergeRequestFiltersHistory\">{\n  &quot;lastFilter&quot;: {}\n}</component>\n  <component name=\"GitLabMergeRequestsSettings\">{\n  &quot;selectedUrlAndAccountId&quot;: {\n    &quot;first&quot;: &quot;https://lab.ssafy.com/s12-webmobile1-sub1/S12P11A506.git&quot;,\n    &quot;second&quot;: &quot;e33ee6b4-1615-45ef-a98a-173e132f977f&quot;\n  }\n}</component>\n  <component name=\"ProblemsViewState\">\n    <option name=\"selectedTabId\" value=\"CurrentFile\" />\n  </component>\n  <component name=\"ProjectColorInfo\">{\n  &quot;associatedIndex&quot;: 5\n}</component>\n  <component name=\"ProjectId\" id=\"2sfU0UdfCWOTDN8Cw8GdwsNPGOD\" />\n  <component name=\"ProjectLevelVcsManager\">\n    <ConfirmationsSetting value=\"1\" id=\"Add\" />\n  </component>\n  <component name=\"ProjectViewState\">\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\n    <option name=\"showLibraryContents\" value=\"true\" />\n  </component>\n  <component name=\"PropertiesComponent\"><![CDATA[{\n  \"keyToString\": {\n    \"RunOnceActivity.ShowReadmeOnStart\": \"true\",\n    \"RunOnceActivity.git.unshallow\": \"true\",\n    \"git-widget-placeholder\": \"FE/FEAT/#148\",\n    \"kotlin-language-version-configured\": \"true\",\n    \"last_opened_file_path\": \"/Users/mac/Downloads/SSAFY/SSAFY_season2/commonproject\",\n    \"node.js.detected.package.eslint\": \"true\",\n    \"node.js.detected.package.tslint\": \"true\",\n    \"node.js.selected.package.eslint\": \"(autodetect)\",\n    \"node.js.selected.package.tslint\": \"(autodetect)\",\n    \"nodejs_package_manager_path\": \"npm\",\n    \"ts.external.directory.path\": \"/Applications/WebStorm.app/Contents/plugins/javascript-plugin/jsLanguageServicesImpl/external\",\n    \"vue.rearranger.settings.migration\": \"true\"\n  }\n}]]></component>\n  <component name=\"RecentsManager\">\n    <key name=\"CopyFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$/Frontend/src/components/KioskCouponPopup\" />\n    </key>\n    <key name=\"MoveFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$/Frontend/src/pages/KioskMain\" />\n      <recent name=\"$PROJECT_DIR$/Frontend/src/pages\" />\n    </key>\n  </component>\n  <component name=\"SharedIndexes\">\n    <attachedChunks>\n      <set>\n        <option value=\"bundled-js-predefined-d6986cc7102b-822845ee3bb5-JavaScript-WS-243.23654.157\" />\n      </set>\n    </attachedChunks>\n  </component>\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\n  <component name=\"TaskManager\">\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\n      <changelist id=\"f896b346-e63a-4955-9c5d-cb4b97fbcc7e\" name=\"Changes\" comment=\"\" />\n      <created>1738845899858</created>\n      <option name=\"number\" value=\"Default\" />\n      <option name=\"presentableId\" value=\"Default\" />\n      <updated>1738845899858</updated>\n      <workItem from=\"1738845900970\" duration=\"3670000\" />\n      <workItem from=\"1738886022718\" duration=\"24462000\" />\n      <workItem from=\"1738913909041\" duration=\"306000\" />\n      <workItem from=\"1738914277977\" duration=\"35000\" />\n      <workItem from=\"1738914322054\" duration=\"4199000\" />\n      <workItem from=\"1739081872737\" duration=\"36070000\" />\n      <workItem from=\"1739152824324\" duration=\"47000\" />\n      <workItem from=\"1739152876382\" duration=\"26000\" />\n      <workItem from=\"1739152929279\" duration=\"24000\" />\n      <workItem from=\"1739153054176\" duration=\"42770000\" />\n      <workItem from=\"1739247929410\" duration=\"30265000\" />\n      <workItem from=\"1739291868462\" duration=\"14695000\" />\n      <workItem from=\"1739308289993\" duration=\"36322000\" />\n      <workItem from=\"1739350559470\" duration=\"19822000\" />\n      <workItem from=\"1739426375278\" duration=\"2000\" />\n      <workItem from=\"1739426451033\" duration=\"11909000\" />\n      <workItem from=\"1739452113566\" duration=\"11559000\" />\n      <workItem from=\"1739513711472\" duration=\"63743000\" />\n      <workItem from=\"1739750470079\" duration=\"12985000\" />\n      <workItem from=\"1739781327516\" duration=\"6000\" />\n      <workItem from=\"1739882723898\" duration=\"12236000\" />\n      <workItem from=\"1739904889326\" duration=\"338000\" />\n      <workItem from=\"1739923276863\" duration=\"41280000\" />\n    </task>\n    <task id=\"LOCAL-00001\" summary=\"[FE/FIX] 배포 테스트 (#68)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739427567928</created>\n      <option name=\"number\" value=\"00001\" />\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739427567928</updated>\n    </task>\n    <task id=\"LOCAL-00002\" summary=\"[FE/FIX] 배포 테스트 (#68)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739428785456</created>\n      <option name=\"number\" value=\"00002\" />\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739428785456</updated>\n    </task>\n    <task id=\"LOCAL-00003\" summary=\"[FE/FIX] 배포 테스트 (#68)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739432038269</created>\n      <option name=\"number\" value=\"00003\" />\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739432038269</updated>\n    </task>\n    <task id=\"LOCAL-00004\" summary=\"[FE/FIX] 배포 테스트 (#68)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739432340013</created>\n      <option name=\"number\" value=\"00004\" />\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739432340013</updated>\n    </task>\n    <task id=\"LOCAL-00005\" summary=\"[FE/FIX] 배포 테스트 (#68)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739433129149</created>\n      <option name=\"number\" value=\"00005\" />\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739433129149</updated>\n    </task>\n    <task id=\"LOCAL-00006\" summary=\"[FE/FIX] 지도 호출 흐름 수정 (#68)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739435017686</created>\n      <option name=\"number\" value=\"00006\" />\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739435017686</updated>\n    </task>\n    <task id=\"LOCAL-00007\" summary=\"[FE/FIX] 지도 호출 흐름 수정 (#68)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739466231792</created>\n      <option name=\"number\" value=\"00007\" />\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739466231792</updated>\n    </task>\n    <task id=\"LOCAL-00008\" summary=\"[FE/FIX] 뒤로가기 시 지도 코드 꼬이는 현상 수정 (#68)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739610602839</created>\n      <option name=\"number\" value=\"00008\" />\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739610602839</updated>\n    </task>\n    <task id=\"LOCAL-00009\" summary=\"[FE/FIX] 뒤로가기 시 지도 코드 꼬이는 현상 수정 (#68)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739670282959</created>\n      <option name=\"number\" value=\"00009\" />\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739670282959</updated>\n    </task>\n    <task id=\"LOCAL-00010\" summary=\"[FE/FIX] 뒤로가기 시 지도 코드 꼬이는 현상 수정 (#68)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739696098939</created>\n      <option name=\"number\" value=\"00010\" />\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739696098939</updated>\n    </task>\n    <task id=\"LOCAL-00011\" summary=\"[FE/FIX] 뒤로가기 시 지도 코드 꼬이는 현상 수정 (#68)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739708076864</created>\n      <option name=\"number\" value=\"00011\" />\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739708076864</updated>\n    </task>\n    <task id=\"LOCAL-00012\" summary=\"[FE/FIX] 제품 입고요청 Api 정상작동 (#113)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739722788572</created>\n      <option name=\"number\" value=\"00012\" />\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739722788573</updated>\n    </task>\n    <task id=\"LOCAL-00013\" summary=\"[FE/FIX] 플리아이템 신청 온라인 환경 테스트 (#113)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739754878271</created>\n      <option name=\"number\" value=\"00013\" />\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739754878271</updated>\n    </task>\n    <task id=\"LOCAL-00014\" summary=\"[FE/FIX] 메인페이지 css 수정 (#122)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739844698225</created>\n      <option name=\"number\" value=\"00014\" />\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739844698225</updated>\n    </task>\n    <task id=\"LOCAL-00015\" summary=\"[FE/FIX] 메인페이지 css 수정 (#129)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739852240829</created>\n      <option name=\"number\" value=\"00015\" />\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739852240829</updated>\n    </task>\n    <task id=\"LOCAL-00016\" summary=\"[FE/FIX] 메인페이지 css 수정 (#131)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739868829683</created>\n      <option name=\"number\" value=\"00016\" />\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739868829683</updated>\n    </task>\n    <task id=\"LOCAL-00017\" summary=\"[FE/FIX] 메인페이지 css 수정 (#129)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739901147961</created>\n      <option name=\"number\" value=\"00017\" />\n      <option name=\"presentableId\" value=\"LOCAL-00017\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739901147961</updated>\n    </task>\n    <task id=\"LOCAL-00018\" summary=\"[FE/FIX] 메인페이지 css 수정 (#129)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739925905795</created>\n      <option name=\"number\" value=\"00018\" />\n      <option name=\"presentableId\" value=\"LOCAL-00018\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739925905795</updated>\n    </task>\n    <task id=\"LOCAL-00019\" summary=\"[FE/FIX] 메인페이지 css 수정 (#129)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739925924491</created>\n      <option name=\"number\" value=\"00019\" />\n      <option name=\"presentableId\" value=\"LOCAL-00019\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739925924491</updated>\n    </task>\n    <task id=\"LOCAL-00020\" summary=\"[FE/FIX] 메인페이지 css 수정 (#135)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739939235607</created>\n      <option name=\"number\" value=\"00020\" />\n      <option name=\"presentableId\" value=\"LOCAL-00020\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739939235607</updated>\n    </task>\n    <task id=\"LOCAL-00021\" summary=\"[FE/FIX] 메인페이지 css 수정 (#135)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739943443673</created>\n      <option name=\"number\" value=\"00021\" />\n      <option name=\"presentableId\" value=\"LOCAL-00021\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739943443673</updated>\n    </task>\n    <task id=\"LOCAL-00022\" summary=\"[FE/FIX] 키오스크 css flex로 수정 (#135)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739967810759</created>\n      <option name=\"number\" value=\"00022\" />\n      <option name=\"presentableId\" value=\"LOCAL-00022\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739967810759</updated>\n    </task>\n    <task id=\"LOCAL-00023\" summary=\"[FE/FIX] 키오스크 css flex로 수정 (#135)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1739975054785</created>\n      <option name=\"number\" value=\"00023\" />\n      <option name=\"presentableId\" value=\"LOCAL-00023\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1739975054785</updated>\n    </task>\n    <option name=\"localTasksCounter\" value=\"24\" />\n    <servers />\n  </component>\n  <component name=\"TypeScriptGeneratedFilesManager\">\n    <option name=\"version\" value=\"3\" />\n  </component>\n  <component name=\"Vcs.Log.Tabs.Properties\">\n    <option name=\"TAB_STATES\">\n      <map>\n        <entry key=\"MAIN\">\n          <value>\n            <State />\n          </value>\n        </entry>\n      </map>\n    </option>\n  </component>\n  <component name=\"VcsManagerConfiguration\">\n    <MESSAGE value=\"[FE/FIX] 배포 테스트 (#68)\" />\n    <MESSAGE value=\"[FE/FIX] 지도 호출 흐름 수정 (#68)\" />\n    <MESSAGE value=\"[FE/FIX] 키오스크 ui 수정 (#68)\" />\n    <MESSAGE value=\"[FE/FIX] 뒤로가기 시 지도 코드 꼬이는 현상 수정 (#68)\" />\n    <MESSAGE value=\"[FE/FIX] 제품 입고요청 Api 정상작동 (#113)\" />\n    <MESSAGE value=\"[FE/FIX] 플리아이템 신청 온라인 환경 테스트 (#113)\" />\n    <MESSAGE value=\"[FE/FIX] 플리아이템, 쿠폰수령, 입고요청 api 완료(#118)\" />\n    <MESSAGE value=\"[FE/FIX] 메인페이지 css 수정 (#122)\" />\n    <MESSAGE value=\"[FE/FIX] 메인페이지 css 수정 (#131)\" />\n    <MESSAGE value=\"[FE/FIX] 메인페이지 css 수정 (#129)\" />\n    <MESSAGE value=\"[FE/FIX] 메인페이지 css 수정 (#135)\" />\n    <MESSAGE value=\"[FE/FIX] 키오스크 css flex로 수정 (#135)\" />\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"[FE/FIX] 키오스크 css flex로 수정 (#135)\" />\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 58738e8b103beb086d7d5e294ef89fa56b044638)
+++ b/.idea/workspace.xml	(date 1740030679402)
@@ -4,14 +4,11 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="f896b346-e63a-4955-9c5d-cb4b97fbcc7e" name="Changes" comment="[FE/FIX] 키오스크 css flex로 수정 (#135)">
+    <list default="true" id="f896b346-e63a-4955-9c5d-cb4b97fbcc7e" name="Changes" comment="[FE/FEAT] 키오스크 결제시스템 구현완료(#148)">
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Frontend/src/components/KioskBarcodeScanner/index.js" beforeDir="false" afterPath="$PROJECT_DIR$/Frontend/src/components/KioskBarcodeScanner/index.js" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Frontend/src/components/KioskCouponScanner/index.js" beforeDir="false" afterPath="$PROJECT_DIR$/Frontend/src/components/KioskCouponScanner/index.js" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Frontend/src/components/KioskHeaderContainer/style.css" beforeDir="false" afterPath="$PROJECT_DIR$/Frontend/src/components/KioskHeaderContainer/style.css" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/Frontend/src/components/KakaoMapMarkers/index.js" beforeDir="false" afterPath="$PROJECT_DIR$/Frontend/src/components/KakaoMapMarkers/index.js" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/Frontend/src/pages/KioskMain/index.js" beforeDir="false" afterPath="$PROJECT_DIR$/Frontend/src/pages/KioskMain/index.js" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Frontend/src/pages/KioskMain/style.css" beforeDir="false" afterPath="$PROJECT_DIR$/Frontend/src/pages/KioskMain/style.css" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Frontend/src/pages/StoredetailRequest/style.css" beforeDir="false" afterPath="$PROJECT_DIR$/Frontend/src/pages/StoredetailRequest/style.css" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/Frontend/src/pages/MainPage/index.js" beforeDir="false" afterPath="$PROJECT_DIR$/Frontend/src/pages/MainPage/index.js" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -59,7 +56,7 @@
   "keyToString": {
     "RunOnceActivity.ShowReadmeOnStart": "true",
     "RunOnceActivity.git.unshallow": "true",
-    "git-widget-placeholder": "FE/FEAT/#148",
+    "git-widget-placeholder": "FE/FIX/#158",
     "kotlin-language-version-configured": "true",
     "last_opened_file_path": "/Users/mac/Downloads/SSAFY/SSAFY_season2/commonproject",
     "node.js.detected.package.eslint": "true",
@@ -117,7 +114,8 @@
       <workItem from="1739781327516" duration="6000" />
       <workItem from="1739882723898" duration="12236000" />
       <workItem from="1739904889326" duration="338000" />
-      <workItem from="1739923276863" duration="41280000" />
+      <workItem from="1739923276863" duration="41499000" />
+      <workItem from="1740027484684" duration="3190000" />
     </task>
     <task id="LOCAL-00001" summary="[FE/FIX] 배포 테스트 (#68)">
       <option name="closed" value="true" />
@@ -303,7 +301,15 @@
       <option name="project" value="LOCAL" />
       <updated>1739975054785</updated>
     </task>
-    <option name="localTasksCounter" value="24" />
+    <task id="LOCAL-00024" summary="[FE/FEAT] 키오스크 결제시스템 구현완료(#148)">
+      <option name="closed" value="true" />
+      <created>1739982677936</created>
+      <option name="number" value="00024" />
+      <option name="presentableId" value="LOCAL-00024" />
+      <option name="project" value="LOCAL" />
+      <updated>1739982677936</updated>
+    </task>
+    <option name="localTasksCounter" value="25" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -333,6 +339,7 @@
     <MESSAGE value="[FE/FIX] 메인페이지 css 수정 (#129)" />
     <MESSAGE value="[FE/FIX] 메인페이지 css 수정 (#135)" />
     <MESSAGE value="[FE/FIX] 키오스크 css flex로 수정 (#135)" />
-    <option name="LAST_COMMIT_MESSAGE" value="[FE/FIX] 키오스크 css flex로 수정 (#135)" />
+    <MESSAGE value="[FE/FEAT] 키오스크 결제시스템 구현완료(#148)" />
+    <option name="LAST_COMMIT_MESSAGE" value="[FE/FEAT] 키오스크 결제시스템 구현완료(#148)" />
   </component>
 </project>
\ No newline at end of file
Index: Frontend/src/pages/KioskMain/index.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import { useState } from 'react';\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport BarcodeScannerComponent from \"../../components/KioskBarcodeScanner\";\nimport Cartpage from \"../../components/KioskCartpage\";\nimport KioskFleaproductlist from \"../../components/KioskFleaproductlist\";\nimport PaymentPopup from '../../components/KioskPaymentPopup';\nimport KioskCouponPopup from \"../../components/KioskCouponPopup\";\nimport KioskPaymentFinishPopup from \"../../components/KioskPaymentFinishPopup\";\nimport KioskPaymentApi from \"../../api/KioskPaymentApi\";\nimport './style.css';\nimport Swal from 'sweetalert2';\n\nconst KioskMainScreen = () => {\n    const [state, setState] = useState({\n        cartItems: [],\n        couponId: null,\n        discountRate: 0,\n        isPaymentPopupOpen: false,\n        isCouponPopupOpen: false,\n        isPaymentFinish: false,\n        isCouponPromptOpen: false\n    });\n\n    const navigate = useNavigate();\n    const storeNo = Number(useParams().storeNo)\n\n    const updateState = (newState) => {\n        setState(prev => ({ ...prev, ...newState }));\n    };\n\n    const handleCartOperation = (operation) => {\n        setState(prev => ({\n            ...prev,\n            cartItems: operation(prev.cartItems)\n        }));\n    };\n\n    const handleAddToCart = (product) => {\n        handleCartOperation((prevItems) => {\n            const existing = prevItems.find((item) => item.id === product.id);\n            if (existing) {\n                // Check if adding more exceeds stock\n                if (existing.quantity + 1 > product.quantity) {\n                    // alert(`재고가 부족합니다. 최대 ${product.quantity}개까지 담을 수 있습니다.`);\n                    Swal.fire({\n                        icon: \"warning\",\n                        title: \"재고 부족!\",\n                        text: `재고가 부족합니다. 최대 ${product.quantity}개까지 담을 수 있습니다`,\n                    });\n                    return prevItems; // Return without changes\n                }\n                return prevItems.map((item) =>\n                    item.id === product.id\n                        ? { ...item, quantity: item.quantity + 1 }\n                        : item\n                );\n            } else {\n                // Check if initial quantity exceeds stock\n                if (product.quantity < 1) {\n                    // alert(`재고가 부족합니다.`);\n                    Swal.fire({\n                        icon: \"error\",\n                        title: \"재고 부족!\",\n                        text: \"현재 재고가 없습니다.\",\n                    });\n                    return prevItems;\n                }\n                return [\n                    ...prevItems,\n                    { ...product, quantity: 1, itemName: product.itemName || product.fliItemName },\n                ];\n            }\n        });\n    };\n\n    const handleIncrement = (itemName) => {\n        handleCartOperation((prevItems) =>\n            prevItems.map((item) => {\n                if (item.itemName === itemName) {\n                    // Check if increment exceeds stock\n                    if (item.quantity + 1 > item.stockQuantity) {\n                        // alert(`재고가 부족합니다. 최대 ${item.stockQuantity}개까지 담을 수 있습니다.`);\n                        Swal.fire({\n                            icon: \"warning\",\n                            title: \"재고 부족!\",\n                            text: `재고가 부족합니다. 최대 ${item.stockQuantity}개까지 담을 수 있습니다`,\n                        });\n                        return item; // No change to the item\n                    }\n                    return { ...item, quantity: item.quantity + 1 };\n                }\n                return item;\n            })\n        );\n    };\n    const handleDecrement = (itemName) => {\n        handleCartOperation(prevItems =>\n            prevItems.map((item) =>\n                item.itemName === itemName && item.quantity > 1\n                    ? { ...item, quantity: item.quantity - 1 }\n                    : item\n            )\n        );\n    };\n\n    const handleRemove = (itemName) => {\n        handleCartOperation(prevItems =>\n            prevItems.filter(item => item.itemName !== itemName)\n        );\n    };\n\n// 동적 할인율 적용 계산\n    const calculateTotalPrice = () => {\n        const subtotal = state.cartItems.reduce((acc, item) =>\n            acc + (item.price * item.quantity), 0);\n\n        return subtotal - Math.floor(subtotal * (state.discountRate / 100));\n    };\n\n\n    const handleConfirmPayment = async (method) => {\n        try {\n            // 데이터 분류 로직\n            const itemsForPayment = [];\n            const fliItemsForPayment = [];\n\n            state.cartItems.forEach(item => {\n                const subtotal = item.price * item.quantity;\n\n                if (item.fliItemId) { // 플리마켓 상품\n                    fliItemsForPayment.push({\n                        fliItemId: item.fliItemId,\n                        fliItemName: item.fliItemName || item.itemName,\n                        quantity: item.quantity,\n                        price: item.price,\n                        subtotal: subtotal\n                    });\n                } else { // 일반 상품\n                    itemsForPayment.push({\n                        itemId: item.itemId,\n                        itemName: item.itemName,\n                        quantity: item.quantity,\n                        price: item.price,\n                        subtotal: subtotal\n                    });\n                }\n            });\n\n            const subtotal = itemsForPayment.reduce((sum, item) => sum + item.subtotal, 0)\n                + fliItemsForPayment.reduce((sum, item) => sum + item.subtotal, 0);\n\n            const requestData = {\n                storeNo: storeNo,\n                itemsForPayment,\n                fliItemsForPayment,\n                couponId: state.couponId,\n                totalAmount: subtotal - Math.floor(subtotal * (state.discountRate / 100))\n            };\n\n            console.log(requestData);\n\n            // API 호출\n            await KioskPaymentApi(requestData);\n\n            // 성공 시 상태 업데이트\n            updateState({\n                isPaymentPopupOpen: false,\n                cartItems: [],\n                couponId: null,\n                discountRate: 0,\n                isPaymentFinish: true\n            });\n\n        } catch (error) {\n            Swal.fire({\n                icon: \"error\",\n                title: \"결제 실패\",\n                text: \"결제 처리 중 오류가 발생했습니다.\",\n            });\n            console.error(\"Payment error:\", error);\n        }\n    };\n\n\n// 수정된 handleApplyCoupon 함수\n    const handleApplyCoupon = (couponData) => {\n        const currentSubtotal = state.cartItems.reduce((acc, item) =>\n            acc + (item.price * item.quantity), 0);\n\n        updateState({\n            couponId: couponData.couponId,\n            discountRate: couponData.discountRate,\n            isCouponPopupOpen: false,\n            isPaymentPopupOpen: true\n        });\n\n        Swal.fire({\n            icon: \"success\",\n            title: \"쿠폰 적용 완료!\",\n            text: `${couponData.discountRate}% 할인이 적용되었습니다. (할인액: ${Math.floor(currentSubtotal * couponData.discountRate/100).toLocaleString()}원)`\n        });\n    };\n\n\n    return (\n        <div className=\"kioskmainscreen\">\n            <div className=\"mainscreencartpage\">\n                <Cartpage\n                    cartItems={state.cartItems}\n                    onIncrement={handleIncrement}\n                    onDecrement={handleDecrement}\n                    onRemove={handleRemove}\n                />\n            </div>\n            <div className=\"kioskpleaproductlist\"><KioskFleaproductlist onAddToCart={handleAddToCart}/></div>\n            <div className=\"barcodebuttoncontainer\">\n                <div className=\"mainscreenbarcodescanner\"><BarcodeScannerComponent onAddToCart={handleAddToCart}/></div>\n                <div className=\"buttonzonecontainer\">\n                    <div className=\"cartpagetotal\">총 금액: {calculateTotalPrice().toLocaleString()}원</div>\n                    <div className=\"buttonzone\">\n                        <button\n                            className=\"mainscreenpayment\"\n                            onClick={() => updateState({isCouponPromptOpen: true})}>결제하기\n                        </button>\n                        <button className=\"mainscreentohome\" onClick={() => navigate(\"/kiosk\")}>홈으로</button>\n                    </div>\n                </div>\n            </div>\n\n\n            {/* 쿠폰 적용 확인 팝업 추가 */}\n            {state.isCouponPromptOpen && (\n                <div className=\"popup-overlay\">\n                    <div className=\"popup-content\">\n                        <h2>쿠폰을<br/><br/>적용하시겠습니까?</h2>\n                        <div className=\"coupon-prompt-buttons\">\n                            <button\n                                onClick={() => {\n                                    updateState({\n                                        isCouponPromptOpen: false,\n                                    isCouponPopupOpen: true\n                                    })\n                                }}\n                            >\n                                예\n                            </button>\n                            <button\n                                onClick={() => updateState({\n                                    isCouponPromptOpen: false,\n                                    isPaymentPopupOpen: true\n                                })}\n                            >\n                                아니오\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* 수정된 결제 팝업 호출 방식 */}\n            {state.isPaymentPopupOpen && (\n                <div className=\"popup-overlay\">\n                    <div className=\"popup-content\">\n                        <PaymentPopup\n                        total={calculateTotalPrice()}\n                        onClose={() => updateState({ isPaymentPopupOpen: false })}\n                        onConfirm={handleConfirmPayment}\n                    />\n                    </div>\n                </div>\n            )}\n\n            {/* 쿠폰 팝업 닫힐 때 결제창 자동 호출 */}\n            {state.isCouponPopupOpen && (\n                <div className=\"popup-overlay\">\n                    <div className=\"popup-content\">\n\n                        <KioskCouponPopup\n                            onClose={() => updateState({\n                                isCouponPopupOpen: false,\n                                isPaymentPopupOpen: true\n                            })}\n                            onApplyCoupon={(couponData) => {\n                                handleApplyCoupon(couponData);\n                                updateState({ isPaymentPopupOpen: true });\n                            }}\n                        />\n\n                    </div>\n                </div>\n            )}\n\n            {state.isPaymentFinish && (\n                <div className=\"popup-overlay\">\n                    <div className=\"popup-content\">\n                        <KioskPaymentFinishPopup\n                        onClose={() => {\n                            updateState({ isPaymentFinish: false });\n                            navigate('/kiosk');\n                        }}\n                    />\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default KioskMainScreen;\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Frontend/src/pages/KioskMain/index.js b/Frontend/src/pages/KioskMain/index.js
--- a/Frontend/src/pages/KioskMain/index.js	(revision 58738e8b103beb086d7d5e294ef89fa56b044638)
+++ b/Frontend/src/pages/KioskMain/index.js	(date 1740029077964)
@@ -154,7 +154,7 @@
                 itemsForPayment,
                 fliItemsForPayment,
                 couponId: state.couponId,
-                totalAmount: subtotal - Math.floor(subtotal * (state.discountRate / 100))
+                totalPrice: subtotal - Math.floor(subtotal * (state.discountRate / 100))
             };
 
             console.log(requestData);
